# Spring Boot åç«¯åŸç†è¯¦è§£

> é€‚åˆåˆå­¦è€…çš„ Spring Boot åç«¯æ¶æ„å’Œå·¥ä½œåŸç†å®Œæ•´æŒ‡å—

---

## ğŸ“‹ ç›®å½•

1. [ä»€ä¹ˆæ˜¯åç«¯ï¼Ÿ](#ä»€ä¹ˆæ˜¯åç«¯)
2. [Spring Boot æ¡†æ¶æ¦‚è¿°](#spring-boot-æ¡†æ¶æ¦‚è¿°)
3. [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
4. [åˆ†å±‚æ¶æ„è¯¦è§£](#åˆ†å±‚æ¶æ„è¯¦è§£)
5. [ä¾èµ–æ³¨å…¥ï¼ˆIoCï¼‰](#ä¾èµ–æ³¨å…¥ioc)
6. [æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰](#æ•°æ®è®¿é—®å±‚dao)
7. [ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰](#ä¸šåŠ¡é€»è¾‘å±‚service)
8. [æ§åˆ¶å™¨å±‚ï¼ˆControllerï¼‰](#æ§åˆ¶å™¨å±‚controller)
9. [å®‰å…¨æœºåˆ¶](#å®‰å…¨æœºåˆ¶)
10. [æ•°æ®åº“äº¤äº’](#æ•°æ®åº“äº¤äº’)
11. [å®Œæ•´è¯·æ±‚æµç¨‹](#å®Œæ•´è¯·æ±‚æµç¨‹)

---

## ä»€ä¹ˆæ˜¯åç«¯ï¼Ÿ

**åç«¯ï¼ˆBackendï¼‰** æ˜¯ç”¨æˆ·çœ‹ä¸åˆ°çš„éƒ¨åˆ†ï¼Œè´Ÿè´£ï¼š
- **ä¸šåŠ¡é€»è¾‘å¤„ç†**ï¼šå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œæ‰§è¡Œä¸šåŠ¡è§„åˆ™
- **æ•°æ®å­˜å‚¨**ï¼šå°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“
- **æ•°æ®éªŒè¯**ï¼šéªŒè¯ç”¨æˆ·è¾“å…¥çš„æ•°æ®
- **å®‰å…¨æ§åˆ¶**ï¼šéªŒè¯ç”¨æˆ·èº«ä»½ï¼Œæ§åˆ¶è®¿é—®æƒé™
- **API æä¾›**ï¼šä¸ºå‰ç«¯æä¾›æ•°æ®æ¥å£

**ç±»æ¯”ç†è§£**ï¼š
- å‰ç«¯ = é¤å…çš„èœå•å’Œç‚¹é¤ç•Œé¢
- åç«¯ = å¨æˆ¿ï¼ˆå¤„ç†è®¢å•ã€å‡†å¤‡é£Ÿç‰©ã€ç®¡ç†åº“å­˜ï¼‰

---

## Spring Boot æ¡†æ¶æ¦‚è¿°

### Spring Boot æ˜¯ä»€ä¹ˆï¼Ÿ

Spring Boot æ˜¯ä¸€ä¸ª **Java åç«¯æ¡†æ¶**ï¼Œç”¨äºå¿«é€Ÿæ„å»ºä¼ä¸šçº§åº”ç”¨ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- **çº¦å®šä¼˜äºé…ç½®**ï¼šå‡å°‘é…ç½®ï¼Œå¿«é€Ÿå¼€å‘
- **å†…åµŒæœåŠ¡å™¨**ï¼šå†…ç½® Tomcatï¼Œæ— éœ€å•ç‹¬éƒ¨ç½²
- **è‡ªåŠ¨é…ç½®**ï¼šè‡ªåŠ¨é…ç½®å¸¸ç”¨ç»„ä»¶
- **ç”Ÿäº§å°±ç»ª**ï¼šæä¾›ç›‘æ§ã€å¥åº·æ£€æŸ¥ç­‰åŠŸèƒ½

### Spring Boot çš„æ ¸å¿ƒä¼˜åŠ¿

1. **å¿«é€Ÿå¼€å‘**ï¼šå‡å°‘æ ·æ¿ä»£ç 
2. **ä¾èµ–æ³¨å…¥**ï¼šè‡ªåŠ¨ç®¡ç†å¯¹è±¡ä¾èµ–
3. **AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰**ï¼šç»Ÿä¸€å¤„ç†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—ï¼‰
4. **äº‹åŠ¡ç®¡ç†**ï¼šè‡ªåŠ¨å¤„ç†æ•°æ®åº“äº‹åŠ¡
5. **å®‰å…¨æ¡†æ¶**ï¼šSpring Security æä¾›è®¤è¯å’Œæˆæƒ

---

## é¡¹ç›®æ¶æ„

### æ•´ä½“ç›®å½•ç»“æ„

```
Online-Shopping-Application-Backend/
â”œâ”€â”€ src/main/java/com/example/superdupermart/
â”‚   â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚ï¼ˆæ¥æ”¶ HTTP è¯·æ±‚ï¼‰
â”‚   â”‚   â”œâ”€â”€ ProductController.java
â”‚   â”‚   â”œâ”€â”€ OrderController.java
â”‚   â”‚   â””â”€â”€ AuthController.java
â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”‚   â”œâ”€â”€ OrderService.java
â”‚   â”‚   â””â”€â”€ AuthService.java
â”‚   â”œâ”€â”€ dao/                # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ AbstractHibernateDao.java
â”‚   â”‚   â”œâ”€â”€ ProductDao.java
â”‚   â”‚   â””â”€â”€ OrderDao.java
â”‚   â”œâ”€â”€ entity/             # å®ä½“ç±»ï¼ˆæ•°æ®åº“è¡¨æ˜ å°„ï¼‰
â”‚   â”‚   â”œâ”€â”€ Product.java
â”‚   â”‚   â”œâ”€â”€ Order.java
â”‚   â”‚   â””â”€â”€ User.java
â”‚   â”œâ”€â”€ dto/                # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ ProductDTO.java
â”‚   â”‚   â””â”€â”€ OrderResponseDTO.java
â”‚   â”œâ”€â”€ security/           # å®‰å…¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”œâ”€â”€ JwtRequestFilter.java
â”‚   â”‚   â””â”€â”€ JwtTokenUtil.java
â”‚   â”œâ”€â”€ config/             # é…ç½®ç±»
â”‚   â”‚   â””â”€â”€ HibernateConfig.java
â”‚   â””â”€â”€ SuperDuperMartApplication.java  # åº”ç”¨å…¥å£
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yaml    # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ static/            # é™æ€èµ„æº
â””â”€â”€ pom.xml                # Maven ä¾èµ–é…ç½®
```

### æ¶æ„å±‚æ¬¡å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HTTP è¯·æ±‚                             â”‚
â”‚         GET /products/all                                â”‚
â”‚         Authorization: Bearer {token}                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Spring Security Filter Chain                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         JwtRequestFilter                          â”‚  â”‚
â”‚  â”‚  - éªŒè¯ JWT Token                                 â”‚  â”‚
â”‚  â”‚  - è®¾ç½® SecurityContextï¼ˆç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼‰            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Controller å±‚ï¼ˆæ§åˆ¶å™¨ï¼‰                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ProductController                         â”‚  â”‚
â”‚  â”‚  - æ¥æ”¶ HTTP è¯·æ±‚                                  â”‚  â”‚
â”‚  â”‚  - è°ƒç”¨ Service å±‚                                 â”‚  â”‚
â”‚  â”‚  - è¿”å› JSON å“åº”                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ProductService                            â”‚  â”‚
â”‚  â”‚  - å¤„ç†ä¸šåŠ¡é€»è¾‘                                    â”‚  â”‚
â”‚  â”‚  - è°ƒç”¨ DAO å±‚                                     â”‚  â”‚
â”‚  â”‚  - äº‹åŠ¡ç®¡ç†                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               DAO å±‚ï¼ˆæ•°æ®è®¿é—®ï¼‰                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ProductDao                               â”‚  â”‚
â”‚  â”‚  - æ•°æ®åº“ CRUD æ“ä½œ                               â”‚  â”‚
â”‚  â”‚  - Hibernate Session ç®¡ç†                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Hibernate ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - Entity â†’ æ•°æ®åº“è¡¨                              â”‚  â”‚
â”‚  â”‚  - HQL/SQL æŸ¥è¯¢                                   â”‚  â”‚
â”‚  â”‚  - äº‹åŠ¡ç®¡ç†                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MySQL æ•°æ®åº“                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - products è¡¨                                     â”‚  â”‚
â”‚  â”‚  - orders è¡¨                                      â”‚  â”‚
â”‚  â”‚  - users è¡¨                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åˆ†å±‚æ¶æ„è¯¦è§£

### ä¸ºä»€ä¹ˆéœ€è¦åˆ†å±‚ï¼Ÿ

**åˆ†å±‚æ¶æ„çš„ä¼˜åŠ¿**ï¼š
1. **èŒè´£åˆ†ç¦»**ï¼šæ¯å±‚åªè´Ÿè´£è‡ªå·±çš„åŠŸèƒ½
2. **æ˜“äºç»´æŠ¤**ï¼šä¿®æ”¹ä¸€å±‚ä¸å½±å“å…¶ä»–å±‚
3. **å¯æµ‹è¯•æ€§**ï¼šå¯ä»¥å•ç‹¬æµ‹è¯•æ¯ä¸€å±‚
4. **å¯æ‰©å±•æ€§**ï¼šå®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½

### å››å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Controller å±‚ï¼ˆè¡¨ç°å±‚ï¼‰            â”‚
â”‚  æ¥æ”¶è¯·æ±‚ï¼Œè¿”å›å“åº”                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰            â”‚
â”‚  å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œäº‹åŠ¡ç®¡ç†                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DAO å±‚ï¼ˆæ•°æ®è®¿é—®å±‚ï¼‰                â”‚
â”‚  æ•°æ®åº“ CRUD æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ æ˜ å°„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Entity å±‚ï¼ˆå®ä½“å±‚ï¼‰                â”‚
â”‚  æ•°æ®åº“è¡¨å¯¹åº”çš„ Java ç±»                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¾èµ–æ³¨å…¥ï¼ˆIoCï¼‰

### ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ

**ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰** æ˜¯ Spring çš„æ ¸å¿ƒç‰¹æ€§ï¼Œç”¨äºè‡ªåŠ¨ç®¡ç†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚

**ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸æ¨èï¼‰**ï¼š
```java
// æ‰‹åŠ¨åˆ›å»ºä¾èµ–
ProductDao productDao = new ProductDao();
ProductService productService = new ProductService(productDao);
ProductController controller = new ProductController(productService);
```

**ä¾èµ–æ³¨å…¥æ–¹å¼ï¼ˆæ¨èï¼‰**ï¼š
```java
// Spring è‡ªåŠ¨æ³¨å…¥
@Controller
public class ProductController {
    @Autowired
    private ProductService productService;  // Spring è‡ªåŠ¨æ³¨å…¥
    
    // æˆ–è€…é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥
    public ProductController(ProductService productService) {
        this.productService = productService;
    }
}
```

### ä¾èµ–æ³¨å…¥çš„å·¥ä½œåŸç†

```
1. Spring å¯åŠ¨æ—¶æ‰«ææ‰€æœ‰ç±»
    â†“
2. å‘ç° @Serviceã€@Controllerã€@Repository ç­‰æ³¨è§£
    â†“
3. åˆ›å»ºè¿™äº›ç±»çš„å®ä¾‹ï¼ˆBeanï¼‰
    â†“
4. æ£€æµ‹åˆ° @Autowired æ³¨è§£
    â†“
5. æŸ¥æ‰¾å¯¹åº”çš„ Bean å¹¶æ³¨å…¥
    â†“
6. æ‰€æœ‰ä¾èµ–æ³¨å…¥å®Œæˆåï¼Œåº”ç”¨å¯åŠ¨å®Œæˆ
```

### ä¾èµ–æ³¨å…¥ç¤ºä¾‹

```java
// 1. Service å±‚
@Service
@Transactional
public class ProductService {
    @Autowired
    private ProductDao productDao;  // æ³¨å…¥ DAO
    
    public List<Product> getAllProducts() {
        return productDao.findAll();  // ä½¿ç”¨ DAO
    }
}

// 2. Controller å±‚
@RestController
@RequestMapping("/products")
public class ProductController {
    @Autowired
    private ProductService productService;  // æ³¨å…¥ Service
    
    @GetMapping("/all")
    public List<ProductDTO> getAllProducts() {
        return productService.getAllProducts()  // ä½¿ç”¨ Service
            .stream()
            .map(this::toDTO)
            .collect(Collectors.toList());
    }
}
```

---

## æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰

### DAO çš„ä½œç”¨

**DAOï¼ˆData Access Objectï¼‰** è´Ÿè´£ä¸æ•°æ®åº“äº¤äº’ï¼Œå°è£…æ‰€æœ‰æ•°æ®åº“æ“ä½œã€‚

### æŠ½è±¡åŸºç±»æ¨¡å¼

```java
// AbstractHibernateDao.java
@Repository
public abstract class AbstractHibernateDao<T> {
    
    @Autowired
    private SessionFactory sessionFactory;  // Hibernate Session å·¥å‚
    
    private Class<T> clazz;
    
    protected void setClazz(Class<T> clazzToSet) {
        this.clazz = clazzToSet;
    }
    
    // è·å–å½“å‰ Session
    protected Session getCurrentSession() {
        return sessionFactory.getCurrentSession();
    }
    
    // æ ¹æ® ID æŸ¥æ‰¾
    public T findById(Long id) {
        return getCurrentSession().get(clazz, id);
    }
    
    // æŸ¥æ‰¾æ‰€æœ‰
    public List<T> findAll() {
        return getCurrentSession()
            .createQuery("from " + clazz.getName(), clazz)
            .list();
    }
    
    // ä¿å­˜
    public void save(T entity) {
        getCurrentSession().save(entity);
    }
    
    // æ›´æ–°
    public void update(T entity) {
        getCurrentSession().merge(entity);
    }
    
    // åˆ é™¤
    public void delete(T entity) {
        getCurrentSession().delete(entity);
    }
}
```

### å…·ä½“ DAO å®ç°

```java
// ProductDao.java
@Repository
public class ProductDao extends AbstractHibernateDao<Product> {
    
    public ProductDao() {
        setClazz(Product.class);  // è®¾ç½®å®ä½“ç±»å‹
    }
    
    // å¯ä»¥æ·»åŠ ç‰¹å®šæŸ¥è¯¢æ–¹æ³•
    public List<Product> findByName(String name) {
        return getCurrentSession()
            .createQuery("from Product where name = :name", Product.class)
            .setParameter("name", name)
            .list();
    }
}
```

**å…³é”®ç‚¹**ï¼š
- `@Repository`ï¼šæ ‡è®°ä¸ºæ•°æ®è®¿é—®ç»„ä»¶
- ç»§æ‰¿ `AbstractHibernateDao`ï¼šå¤ç”¨é€šç”¨ CRUD æ–¹æ³•
- `SessionFactory`ï¼šHibernate çš„ä¼šè¯å·¥å‚ï¼Œç®¡ç†æ•°æ®åº“è¿æ¥
- `getCurrentSession()`ï¼šè·å–å½“å‰äº‹åŠ¡çš„ Session

---

## ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰

### Service çš„ä½œç”¨

**Service å±‚**è´Ÿè´£ï¼š
- å¤„ç†ä¸šåŠ¡é€»è¾‘
- è°ƒç”¨ DAO å±‚
- ç®¡ç†äº‹åŠ¡
- æ•°æ®è½¬æ¢ï¼ˆEntity â†’ DTOï¼‰

### Service ç¤ºä¾‹

```java
// ProductService.java
@Service
@Transactional(transactionManager = "transactionManager")
public class ProductService {
    
    @Autowired
    private ProductDao productDao;
    
    /**
     * è·å–æ‰€æœ‰å•†å“
     */
    public List<Product> getAllProducts() {
        return productDao.findAll();  // è°ƒç”¨ DAO
    }
    
    /**
     * æ ¹æ® ID æŸ¥æ‰¾å•†å“
     */
    public Product getProductById(Long id) {
        return productDao.findById(id);
    }
    
    /**
     * æ–°å¢å•†å“
     */
    public void saveProduct(Product product) {
        productDao.save(product);  // åœ¨äº‹åŠ¡ä¸­ä¿å­˜
    }
    
    /**
     * æ›´æ–°å•†å“ä¿¡æ¯
     */
    public void updateProduct(Long id, Product updatedProduct) {
        Product existing = productDao.findById(id);
        if (existing != null) {
            // æ›´æ–°å­—æ®µ
            existing.setName(updatedProduct.getName());
            existing.setPrice(updatedProduct.getRetailPrice());
            productDao.update(existing);
        }
    }
}
```

**å…³é”®ç‚¹**ï¼š
- `@Service`ï¼šæ ‡è®°ä¸ºä¸šåŠ¡é€»è¾‘ç»„ä»¶
- `@Transactional`ï¼šæ–¹æ³•åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œ
- å¦‚æœæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å›æ»š
- æ‰€æœ‰æ•°æ®åº“æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥

### äº‹åŠ¡ç®¡ç†

```java
@Transactional
public void placeOrder(User user, Set<OrderItem> orderItems) {
    // 1. åˆ›å»ºè®¢å•
    Order order = new Order();
    order.setUser(user);
    order.setOrderItems(orderItems);
    orderDao.save(order);
    
    // 2. æ›´æ–°å•†å“åº“å­˜
    for (OrderItem item : orderItems) {
        Product product = item.getProduct();
        product.setQuantity(product.getQuantity() - item.getQuantity());
        productDao.update(product);
    }
    
    // å¦‚æœä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œæ•´ä¸ªæ“ä½œå›æ»š
}
```

---

## æ§åˆ¶å™¨å±‚ï¼ˆControllerï¼‰

### Controller çš„ä½œç”¨

**Controller å±‚**è´Ÿè´£ï¼š
- æ¥æ”¶ HTTP è¯·æ±‚
- è°ƒç”¨ Service å±‚
- å°† Entity è½¬æ¢ä¸º DTO
- è¿”å› JSON å“åº”

### Controller ç¤ºä¾‹

```java
// ProductController.java
@RestController
@RequestMapping("/products")
public class ProductController {
    
    @Autowired
    private ProductService productService;
    
    /**
     * GET /products/all
     * è·å–æ‰€æœ‰å•†å“
     */
    @GetMapping("/all")
    public List<ProductDTO> getAllProducts() {
        // 1. æ£€æŸ¥ç”¨æˆ·è§’è‰²
        boolean isAdmin = isAdminUser();
        
        // 2. è°ƒç”¨ Service è·å–æ•°æ®
        List<Product> products = productService.getAllProducts();
        
        // 3. è¿‡æ»¤æ•°æ®ï¼ˆæ™®é€šç”¨æˆ·åªçœ‹æœ‰åº“å­˜çš„ï¼‰
        return products.stream()
            .filter(p -> isAdmin || p.getQuantity() > 0)
            .map(p -> toDTO(p, isAdmin))  // è½¬æ¢ä¸º DTO
            .collect(Collectors.toList());
    }
    
    /**
     * GET /products/{productId}
     * è·å–å•†å“è¯¦æƒ…
     */
    @GetMapping("/{productId}")
    public ProductDTO getProductDetailById(@PathVariable Long productId) {
        boolean isAdmin = isAdminUser();
        Product product = productService.getProductById(productId);
        return toDTO(product, isAdmin);
    }
    
    /**
     * POST /products
     * åˆ›å»ºå•†å“ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
     */
    @PostMapping
    public ProductDTO createProduct(@RequestBody Product payload) {
        productService.saveProduct(payload);
        return toDTO(payload, true);
    }
    
    /**
     * Entity è½¬ DTO
     */
    private ProductDTO toDTO(Product p, boolean isAdmin) {
        ProductDTO dto = new ProductDTO();
        dto.setProductId(p.getProductId());
        dto.setName(p.getName());
        dto.setDescription(p.getDescription());
        dto.setPrice(p.getRetailPrice().doubleValue());
        dto.setStock(p.getQuantity());
        
        // ä»…ç®¡ç†å‘˜å¯è§æ‰¹å‘ä»·
        if (isAdmin && p.getWholesalePrice() != null) {
            dto.setWholesalePrice(p.getWholesalePrice().doubleValue());
        }
        
        return dto;
    }
    
    /**
     * æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºç®¡ç†å‘˜
     */
    private boolean isAdminUser() {
        Authentication authentication = SecurityContextHolder
            .getContext()
            .getAuthentication();
        if (authentication == null) {
            return false;
        }
        return authentication.getAuthorities().stream()
            .anyMatch(a -> a.getAuthority().equals("ADMIN"));
    }
}
```

**å…³é”®æ³¨è§£**ï¼š
- `@RestController`ï¼šæ ‡è®°ä¸º REST æ§åˆ¶å™¨ï¼Œè‡ªåŠ¨å°†è¿”å›å€¼è½¬ä¸º JSON
- `@RequestMapping`ï¼šå®šä¹‰åŸºç¡€è·¯å¾„
- `@GetMapping`ï¼šå¤„ç† GET è¯·æ±‚
- `@PostMapping`ï¼šå¤„ç† POST è¯·æ±‚
- `@PathVariable`ï¼šè·å– URL è·¯å¾„å‚æ•°
- `@RequestBody`ï¼šè·å–è¯·æ±‚ä½“ï¼ˆJSONï¼‰å¹¶è½¬ä¸º Java å¯¹è±¡

---

## å®‰å…¨æœºåˆ¶

### Spring Security æ¶æ„

```
HTTP è¯·æ±‚
    â†“
Security Filter Chainï¼ˆå®‰å…¨è¿‡æ»¤å™¨é“¾ï¼‰
    â†“
JwtRequestFilterï¼ˆJWT éªŒè¯è¿‡æ»¤å™¨ï¼‰
    â†“
éªŒè¯ Token â†’ è®¾ç½® SecurityContext
    â†“
Controllerï¼ˆå¯ä»¥è·å–ç”¨æˆ·ä¿¡æ¯ï¼‰
```

### JWT è®¤è¯æµç¨‹

```java
// JwtRequestFilter.java
@Component
public class JwtRequestFilter extends OncePerRequestFilter {
    
    @Autowired
    private JwtTokenUtil jwtTokenUtil;
    
    @Override
    protected void doFilterInternal(
        HttpServletRequest request,
        HttpServletResponse response,
        FilterChain filterChain
    ) throws ServletException, IOException {
        
        // 1. ä»è¯·æ±‚å¤´è·å– Token
        final String header = request.getHeader("Authorization");
        
        if (header != null && header.startsWith("Bearer ")) {
            String token = header.substring(7);
            String email = jwtTokenUtil.extractEmail(token);
            
            // 2. éªŒè¯ Token
            if (email != null && jwtTokenUtil.validateToken(token, email)) {
                // 3. ä» Token ä¸­æå–è§’è‰²
                String role = jwtTokenUtil.extractRole(token);
                
                // 4. è®¾ç½®è®¤è¯ä¿¡æ¯åˆ° SecurityContext
                List<SimpleGrantedAuthority> authorities = 
                    Collections.singletonList(
                        new SimpleGrantedAuthority(role != null ? role : "USER")
                    );
                
                UsernamePasswordAuthenticationToken authentication =
                    new UsernamePasswordAuthenticationToken(
                        new User(email, "", authorities),
                        null,
                        authorities
                    );
                
                SecurityContextHolder.getContext()
                    .setAuthentication(authentication);
            }
        }
        
        // 5. ç»§ç»­è¿‡æ»¤å™¨é“¾
        filterChain.doFilter(request, response);
    }
}
```

### æƒé™æ§åˆ¶é…ç½®

```java
// SecurityConfig.java
@Configuration
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .cors().and()
            .csrf().disable()
            .authorizeRequests()
            // å…¬å…±æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰
            .antMatchers("/signup", "/login").permitAll()
            // ç®¡ç†å‘˜æ¥å£
            .antMatchers("/admin/**").hasAuthority("ADMIN")
            // å…¶ä»–æ¥å£éœ€è¦è®¤è¯
            .anyRequest().authenticated()
            .and()
            .sessionManagement()
            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);
        
        // æ·»åŠ  JWT è¿‡æ»¤å™¨
        http.addFilterBefore(
            jwtRequestFilter, 
            UsernamePasswordAuthenticationFilter.class
        );
        
        return http.build();
    }
}
```

---

## æ•°æ®åº“äº¤äº’

### Hibernate ORM

**Hibernate** æ˜¯å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰æ¡†æ¶ï¼Œå°† Java å¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨ã€‚

### Entityï¼ˆå®ä½“ç±»ï¼‰

```java
// Product.java
@Entity
@Table(name = "products")
public class Product {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long productId;  // ä¸»é”®ï¼Œè‡ªå¢
    
    @Column(nullable = false, length = 100)
    private String name;  // å•†å“åç§°
    
    @Column(columnDefinition = "TEXT")
    private String description;  // å•†å“æè¿°
    
    @Column(nullable = false)
    private Integer quantity;  // åº“å­˜
    
    @Column(nullable = false, precision = 10, scale = 2)
    private BigDecimal retailPrice;  // é›¶å”®ä»·
    
    @Column(nullable = false, precision = 10, scale = 2)
    private BigDecimal wholesalePrice;  // æ‰¹å‘ä»·
    
    // ä¸è®¢å•é¡¹çš„ä¸€å¯¹å¤šå…³ç³»
    @OneToMany(mappedBy = "product", cascade = CascadeType.ALL)
    private Set<OrderItem> orderItems = new HashSet<>();
    
    // Getter å’Œ Setter æ–¹æ³•...
}
```

**å…³é”®æ³¨è§£**ï¼š
- `@Entity`ï¼šæ ‡è®°ä¸ºå®ä½“ç±»
- `@Table`ï¼šæŒ‡å®šæ•°æ®åº“è¡¨å
- `@Id`ï¼šä¸»é”®
- `@GeneratedValue`ï¼šä¸»é”®ç”Ÿæˆç­–ç•¥
- `@Column`ï¼šåˆ—å®šä¹‰
- `@OneToMany`ï¼šä¸€å¯¹å¤šå…³ç³»

### Hibernate Session

```java
// è·å–å½“å‰ Session
Session session = sessionFactory.getCurrentSession();

// HQL æŸ¥è¯¢ï¼ˆé¢å‘å¯¹è±¡ï¼‰
List<Product> products = session
    .createQuery("from Product where quantity > 0", Product.class)
    .list();

// åŸç”Ÿ SQL æŸ¥è¯¢
List<Product> products = session
    .createNativeQuery("SELECT * FROM products WHERE quantity > 0", Product.class)
    .list();

// ä¿å­˜
session.save(product);

// æ›´æ–°
session.merge(product);

// åˆ é™¤
session.delete(product);
```

---

## å®Œæ•´è¯·æ±‚æµç¨‹

### åœºæ™¯ï¼šç”¨æˆ·è·å–å•†å“åˆ—è¡¨

#### æ­¥éª¤ 1ï¼šHTTP è¯·æ±‚åˆ°è¾¾

```
GET http://localhost:8080/products/all
Headers:
  Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
```

#### æ­¥éª¤ 2ï¼šSpring Security è¿‡æ»¤å™¨

```java
// JwtRequestFilter æ‹¦æˆªè¯·æ±‚
1. ä»è¯·æ±‚å¤´æå– Token
2. éªŒè¯ Token æœ‰æ•ˆæ€§
3. æå–ç”¨æˆ·ä¿¡æ¯ï¼ˆemail, roleï¼‰
4. è®¾ç½®åˆ° SecurityContext
```

#### æ­¥éª¤ 3ï¼šè·¯ç”±åˆ° Controller

```java
// ProductController.getAllProducts()
@GetMapping("/all")
public List<ProductDTO> getAllProducts() {
    // 1. æ£€æŸ¥ç”¨æˆ·è§’è‰²
    boolean isAdmin = isAdminUser();
    
    // 2. è°ƒç”¨ Service
    return productService.getAllProducts()...
}
```

#### æ­¥éª¤ 4ï¼šService å¤„ç†ä¸šåŠ¡é€»è¾‘

```java
// ProductService.getAllProducts()
public List<Product> getAllProducts() {
    // è°ƒç”¨ DAO
    return productDao.findAll();
}
```

#### æ­¥éª¤ 5ï¼šDAO è®¿é—®æ•°æ®åº“

```java
// ProductDao.findAll()
public List<T> findAll() {
    return getCurrentSession()
        .createQuery("from Product", Product.class)
        .list();
}
```

#### æ­¥éª¤ 6ï¼šHibernate æ‰§è¡Œ SQL

```sql
-- Hibernate è‡ªåŠ¨ç”Ÿæˆçš„ SQL
SELECT * FROM products;
```

#### æ­¥éª¤ 7ï¼šæ•°æ®è¿”å›

```
æ•°æ®åº“ç»“æœé›†
    â†“
Hibernate æ˜ å°„ä¸º Product å¯¹è±¡
    â†“
DAO è¿”å› List<Product>
    â†“
Service è¿”å› List<Product>
    â†“
Controller è½¬æ¢ä¸º List<ProductDTO>
    â†“
Spring è‡ªåŠ¨è½¬ä¸º JSON
    â†“
HTTP å“åº”è¿”å›å‰ç«¯
```

#### æ­¥éª¤ 8ï¼šHTTP å“åº”

```json
[
  {
    "productId": 1,
    "name": "Logistic Mouse",
    "description": "A mouse",
    "price": 300.99,
    "stock": 50
  },
  ...
]
```

---

## å…³é”®æŠ€æœ¯ç‚¹æ€»ç»“

### 1. ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼

```java
// æ–¹å¼ 1ï¼šå­—æ®µæ³¨å…¥ï¼ˆä¸æ¨èï¼Œä½†å¸¸ç”¨ï¼‰
@Autowired
private ProductService productService;

// æ–¹å¼ 2ï¼šæ„é€ å‡½æ•°æ³¨å…¥ï¼ˆæ¨èï¼‰
private ProductService productService;
public ProductController(ProductService productService) {
    this.productService = productService;
}

// æ–¹å¼ 3ï¼šSetter æ³¨å…¥
private ProductService productService;
@Autowired
public void setProductService(ProductService productService) {
    this.productService = productService;
}
```

### 2. äº‹åŠ¡ç®¡ç†

```java
// ç±»çº§åˆ«ï¼šæ‰€æœ‰æ–¹æ³•éƒ½åœ¨äº‹åŠ¡ä¸­
@Transactional
public class ProductService { ... }

// æ–¹æ³•çº§åˆ«ï¼šåªæœ‰è¿™ä¸ªæ–¹æ³•åœ¨äº‹åŠ¡ä¸­
@Transactional
public void saveProduct(Product product) { ... }

// åªè¯»äº‹åŠ¡ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
@Transactional(readOnly = true)
public List<Product> getAllProducts() { ... }
```

### 3. å¼‚å¸¸å¤„ç†

```java
// å…¨å±€å¼‚å¸¸å¤„ç†å™¨
@ControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(RuntimeException.class)
    public ResponseEntity<Map<String, String>> handleException(
        RuntimeException e
    ) {
        Map<String, String> error = new HashMap<>();
        error.put("error", e.getMessage());
        return ResponseEntity.status(500).body(error);
    }
}
```

### 4. DTO æ¨¡å¼

**ä¸ºä»€ä¹ˆéœ€è¦ DTOï¼Ÿ**
- Entity åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ‰¹å‘ä»·ï¼‰
- æ§åˆ¶è¿”å›ç»™å‰ç«¯çš„æ•°æ®
- ä¸åŒè§’è‰²çœ‹åˆ°ä¸åŒçš„æ•°æ®

```java
// Entityï¼ˆå®Œæ•´æ•°æ®ï¼‰
public class Product {
    private BigDecimal wholesalePrice;  // æ•æ„Ÿä¿¡æ¯
    // ...
}

// DTOï¼ˆæš´éœ²ç»™å‰ç«¯çš„æ•°æ®ï¼‰
public class ProductDTO {
    private double price;  // åªæš´éœ²é›¶å”®ä»·
    // ç®¡ç†å‘˜æ‰çœ‹åˆ° wholesalePrice
}
```

---

## æ€»ç»“

### Spring Boot åç«¯å·¥ä½œåŸç†æ ¸å¿ƒè¦ç‚¹ï¼š

1. **åˆ†å±‚æ¶æ„**ï¼šController â†’ Service â†’ DAO â†’ Entity
2. **ä¾èµ–æ³¨å…¥**ï¼šSpring è‡ªåŠ¨ç®¡ç†å¯¹è±¡ä¾èµ–
3. **äº‹åŠ¡ç®¡ç†**ï¼šç¡®ä¿æ•°æ®ä¸€è‡´æ€§
4. **å®‰å…¨æœºåˆ¶**ï¼šJWT è®¤è¯å’Œæƒé™æ§åˆ¶
5. **ORM æ˜ å°„**ï¼šHibernate å°†å¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨
6. **RESTful API**ï¼šæä¾›æ ‡å‡†åŒ–çš„ HTTP æ¥å£

### æ•°æ®æµå‘ï¼š

```
HTTP è¯·æ±‚ â†’ Security Filter â†’ Controller â†’ Service â†’ DAO â†’ Hibernate â†’ æ•°æ®åº“
                                                                          â†“
HTTP å“åº” â† JSON â† Controller â† DTO â† Service â† Entity â† Hibernate â† æ•°æ®åº“ç»“æœ
```

### å­¦ä¹ å»ºè®®ï¼š

1. ç†è§£åˆ†å±‚æ¶æ„çš„èŒè´£
2. æŒæ¡ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨
3. å­¦ä¹ äº‹åŠ¡ç®¡ç†
4. ç†è§£ Spring Security è®¤è¯æµç¨‹
5. ç†Ÿæ‚‰ Hibernate ORM çš„ä½¿ç”¨

---

**å¸Œæœ›è¿™ä»½æ–‡æ¡£èƒ½å¸®åŠ©ä½ ç†è§£ Spring Boot åç«¯çš„å·¥ä½œåŸç†ï¼** ğŸš€

